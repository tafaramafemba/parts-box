<%= javascript_include_tag 'shipping_field', "data-turbo-track": "reload" %>
<%= stylesheet_link_tag 'product-form', media: 'all', "data-turbo-track": "reload" %>

<div class="form-container">
  <%= form_with model: @product, data: { turbo: false }, local: true do |form| %>
    <div class="form-group">
      <%= form.label :name, 'Part Name' %>
      <%= form.text_field :name, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= form.label :description, 'Description' %>
      <%= form.text_area :description, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= form.label :condition, 'Condition' %>
      <%= form.select :condition, ['New', 'Used'], class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= form.label :make, 'Make' %>
      <%= form.text_field :make, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= form.label :model, 'Model' %>
      <%= form.text_field :model, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= form.label :year, 'Year' %>
      <%= form.text_field :year, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= form.label :manufacturer_part_number, 'Manufacturer Part Number' %>
      <%= form.text_field :manufacturer_part_number, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= form.label :price, 'Price (optional)' %>
      <%= form.number_field :price, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= form.label :location, 'Location' %>
      <%= form.select :location, ['Canada', 'US'], class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= form.label :barter_terms, 'Barter Terms (optional)' %>
      <%= form.text_area :barter_terms, placeholder: 'What are you willing to trade for?', class: 'form-control' %>
    </div>


    <div class="form-group">
      <%= form.label :stock_quantity, 'Stock Quantity' %>
      <%= form.number_field :stock_quantity, class: 'form-control' %>
    </div>




    <div class="form-group">
      <%= form.label :image, 'Product Cover Image' %>
      <%= form.file_field :image, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= form.label :additional_images, 'Additional Product Images' %>
      <%= form.file_field :additional_images, multiple: true, class: 'form-control' %>
    </div>

    <h2>Shipping</h2>

    <div class="form-group">
    <%= form.label :shipping_fee_type, 'Shipping Fee Type' %>
    <%= form.select :shipping_fee_type, ['flat_rate', 'calculated', 'free'], class: 'form-control' %>
  </div>

  <div id="flat-rate-fields" class="form-group" style="display: none;">
    <%= form.label :flat_rate_shipping_fee, 'Flat Rate Shipping Fee' %>
    <%= form.number_field :flat_rate_shipping_fee, class: 'form-control', step: 0.01 %>
  </div>

  <div id="calculated-fields" style="display: none;">
    <div class="form-group">
      <%= form.label :weight, 'Weight (kg)' %>
      <%= form.number_field :weight, class: 'form-control', step: 0.01 %>
    </div>

    <div class="form-group">
      <%= form.label :dimensions, 'Dimensions (L x W x H in cm)' %>
      <%= form.text_field :dimensions, placeholder: 'e.g., 30x20x10', class: 'form-control' %>
    </div>
  </div>

  <div class="form-group">
    <%= form.label :shipping_address, 'Where is this product being shipped from?' %>
    <%= form.text_area :shipping_address, class: 'form-control', placeholder: 'Enter a specific shipping address for this product' %>
  </div>

    <%= form.submit 'List Item', class: 'btn btn-primary' %>
  <% end %>
</div>