<%= stylesheet_link_tag "account_settings", "data-turbo-track": "reload" %>

<div class="account-container">
        <div class="account-settings">
        <h2>Account Settings</h2>

    <%= form_with(model: @user, url: registration_path(@user), method: :put, local: true) do |f| %>
        <div class="form-group">
        <%= f.label :first_name %>
        <%= f.text_field :first_name, required: true, class: 'form-control' %>
        </div>

        <div class="form-group">
        <%= f.label :last_name %>
        <%= f.text_field :last_name, required: true, class: 'form-control' %>
        </div>

        <div class="form-group">
        <%= f.label :username %>
        <%= f.text_field :username, required: true, class: 'form-control' %>
        </div>

        <div class="form-group">
        <%= f.label :phone_number %>
        <%= f.text_field :phone_number, required: true, class: 'form-control' %>
        </div>

        <div class="form-group">
        <%= f.label :email %>
        <%= f.email_field :email, required: true, class: 'form-control' %>
        </div>

        <div class="form-group">
        <%= f.label :password %>
        <%= f.password_field :password, class: 'form-control' %>
        </div>

        <div class="form-group">
        <%= f.label :password_confirmation %>
        <%= f.password_field :password_confirmation, class: 'form-control' %>
        </div>

        <div class="form-group">
        <%= f.label :current_password %>
        <%= f.password_field :current_password, class: 'form-control' %>
        </div>

        <div class="form-actions">
        <%= f.submit "Save Account Changes", class: 'btn-primary' %>
        </div>
        <% end %>
        </div>


        <div class="account-settings">
        <h2>Shipping Address</h2>
        <%= form_for @shipping_address, url: shipping_address_path, method: :post, data: { turbo: false }, local: true do |sa_form| %>
        <div>
        <%= sa_form.label :address_line1, "Address Line 1" %>
        <%= sa_form.text_field :address_line1, required: true, class: 'form-control' %>
        </div>

        <div>
        <%= sa_form.label :address_line2, "Address Line 2" %>
        <%= sa_form.text_field :address_line2, class: 'form-control' %>
        </div>

        <div>
        <%= sa_form.label :city %>
        <%= sa_form.text_field :city, required: true, class: 'form-control' %>
        </div>

        <div>
        <%= sa_form.label :state, "State/Province" %>
        <%= sa_form.text_field :state, class: 'form-control' %>
        </div>

        <div>
        <%= sa_form.label :postal_code %>
        <%= sa_form.text_field :postal_code, required: true, class: 'form-control' %>
        </div>

        <div>
        <%= sa_form.label :country %>
        <%= sa_form.text_field :country, required: true, class: 'form-control' %>
        </div>

        <div>
        <%= sa_form.submit "Save Address Changes", class: 'btn-primary' %>
        </div>
        <% end %>
        </div>

        <% if current_user.seller_status == 'approved' %>
            <div class="account-settings">
                <h2>Payment Methods</h2>
                <div class="payment-methods">
                    <%= image_tag 'stripe_icon.png', alt: 'stripe logo', class: 'stripe-logo', style: 'width: 100px;' %>
                    <%= link_to 'Connect Stripe Account', new_users_stripe_connect_path, class: 'btn-stripe' %>
                </div>
            </div>
        <% end %>

</div>