<%= stylesheet_link_tag "fault_search.css", "data-turbo-track": "reload" %>


<div class="search-container">
  <h1 class="title"><i class="fas fa-car"></i> Search Fault Code</h1>

  <%= form_with url: search_fault_codes_path, method: :get, local: true do %>
    <div class="form-group">
      <label for="code"><i class="fas fa-search"></i> Enter Fault Code:</label>
      <%= text_field_tag :code, params[:code], placeholder: "e.g., P0001", class: "search-input" %>
      <%= submit_tag "Search", class: "search-button" %>
    </div>
  <% end %>

  <% if @result.present? %>
    <div class="result-box success animate-fade-in">
      <h2>Search Result</h2>
      <p><strong>Code:</strong> <%= @result["Code"] %></p>
      <p><strong>Description:</strong> <%= @result["Description"] %></p>
    </div>
  <% elsif params[:code].present? %>
    <div class="result-box error animate-fade-in">
      <p>No code found for <strong><%= params[:code] %></strong>. Please try again!</p>
    </div>
  <% end %>
</div>

